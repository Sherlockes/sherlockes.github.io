<header class="header">
	<div class="container">
		<div class="logo">
			<a class="logo__link" href="/" title="Sherblog" rel="home">
				<div class="logo__title">Sherblog</div>
				<div class="logo__tagline">Sólo mi forma de hacer las cosas...</div>
			</a>
		</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Menú</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/post/raspberry/">Raspberry Pi</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/post/tasker/">Tasker</a>
		</li>
	</ul>
</nav>

	</div>
</header>

<main class="main content">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Raspberry Montaje y ssh</h1><div class="post__meta meta"></div>
		</header>
		<figure class="post__thumbnail">
			<img src="/images/raspberry_logo.png" alt="Raspberry Montaje y ssh">
		</figure><div class="post__content clearfix">
			<h3 id="montaje-y-acceso-ssh">Montaje y acceso ssh</h3>

<p>Ya tengo todo lo que creo que necesito.  Una <a href="https://www.amazon.es/gp/product/B01CD5VC92/ref=oh_aui_detailpage_o00_s01?ie=UTF8&amp;psc=1">Raspberry</a>, una <a href="https://www.amazon.es/gp/product/B013UDL58E/ref=oh_aui_detailpage_o00_s00?ie=UTF8&amp;psc=1">tarjeta micro sd</a>, una <a href="https://www.amazon.es/gp/product/B01DDFFOYK/ref=oh_aui_detailpage_o00_s01?ie=UTF8&amp;psc=1">fuente de alimentación</a> y un <a href="https://www.amazon.es/gp/product/B001U3ZRBS/ref=oh_aui_detailpage_o00_s01?ie=UTF8&amp;psc=1">cable de red</a>.  Total 59€ de inversión inicial que supongo no se quedarán ahí.</p>

<p>Rápidamente me vengo arriba y entro el la web de Raspberry Pi para ver como empezar con el cacharro, ya que estos días desde que lo pedí todo hasta que me ha llegado no me he preocupado de nada.  Primer jarro de agua fría, ya que veo que necesito un ratón, un teclado y un cable hdmi según la <a href="https://www.raspberrypi.org/learning/hardware-guide">guía oficial</a> de Raspberry.  Pero antes de que sumerja en una profunda frustración navego un poco por la red y veo que es posible configurarla sin monitor ni teclado tal y como se explica en <a href="https://www.innerzaurus.com/diy/raspberry-pi/configurar-una-raspberry-pi-sin-monitor-ni-teclado">Innerzaurus</a> o en <a href="http://algoentremanos.com/raspberry-pi-2-raspberry-pi-b-como-configurar-tu-nueva-raspberry-pi-sin-teclados-o-pantallas-extra">Algoentremanos</a>.  Hay esperanza de poder seguir adelante sin gastar más dinero.</p>

<p>Bueno, ya estamos metidos en el fregado&hellip;</p>

<ul>
<li>Descargamos <a href="La versión Lite que pesa menos y no necesitamos entrono gráfico">Raspbian</a></li>
<li>Para Windows descargamos <a href="https://www.sdcard.org/downloads/formatter_4">SD Card Formatter</a> para formatear la tarjeta de memoria</li>
<li>Para Windows descargamos <a href="https://sourceforge.net/projects/win32diskimager">Win32 Disk Imager</a> para grabar la imagen en la tarjeta</li>
<li>Para Linux Mint descargamos <a href="https://www.balena.io/?ref=etcher">Balena Etcher</a></li>
</ul>

<p>Con la fuente de alimentación ha venido una pequeña caja transparente y unos disipadores para los microcontroladores, faena de cirujano para montar todo y ya está el hardware preparado.</p>

<ul>
<li>Para Windows

<ul>
<li>Se descomprime la imagen de Rasbian (Winzip, Winrar&hellip;)</li>
<li>Se formatea la tarjeta de memoria con SD Card Formatter</li>
<li>Se graba la imagen en la tarjeta con Win32 Disk Imager</li>
</ul></li>
<li>Para Linux Mint

<ul>
<li>Se graba la imagen directo desde el zip con Etcher</li>
</ul></li>
<li>En el directorio raiz hay que crear un archivo &ldquo;ssh&rdquo; sin extensión en la carpeta &ldquo;boot&rdquo;</li>
</ul>

<p><img src="/images/20180401_raspberry_montaje_ssh_01.jpg" alt="Imagen_01" /></p>

<blockquote>
<p>En el caso de Windows, una altermativa al uso de SD Card Formatter y Win32 Disk Imager es usar Rufus, un software gratuito con una versión portable que puedes descargar desde <a href="http://rufus.akeo.ie">http://rufus.akeo.ie</a> y hacemos los los pasos en uno creando un disco de arranque con una imagen DD a partir de la imagen descargada.</p>
</blockquote>

<p>Al intentar crear el archivo &ldquo;ssh&rdquo; que habilita el terminal para poder manejar la Raspberry en remoto me encuentro con el primer problema, y es que al intentar crear el archivo me dice que la tarjeta está protegida contra la escritura.  No se si es problema del lector de tarjetas, del adaptador de SD a MicroSD o del propio windows pero el caso es que monto la MicroSD en un lector de tarjetas usb y me deja crear el archivo sin ningún problema.</p>

<p>Ya está todo listo para conectar la Raspberry al router mediante el cable de red, introducir la tarjeta de memoria y conectarle la fuente de alimentación.  No se cuanto tiempo hay que esperar para que el sistema arranque, pero como voy escribiendo al tiempo que hago las cosas, soy lo suficientemente lento para que el sistema haya arrancado cuando estoy listo para dar el siguiente paso.  Ahora necesito otras utilidades para seguir adelante, una para averiguar la dirección ip con la que se ha conectado la Raspberry a la red local y para conectarme mediante ssh.</p>

<ul>
<li>En Windows

<ul>
<li>Para averiguar la ip utilizo <a href="http://www.the-sz.com/products/portscan">PortScan</a></li>
<li>Para conectarme mediante ssh uso <a href="http://www.putty.org">Putty</a></li>
</ul></li>
<li>En Linux Mint

<ul>
<li>Para averiguar la ip utilizo nmap</li>
<li>Averiguar la la ip del pc desde el qe estamos trabajando &lsquo;Hostname -I&rsquo;</li>
<li>Instalar la aplicación &ldquo;nmap&rdquo;&lsquo;sudo apt install nmap&rsquo;</li>
<li>Listar todas las ip&rsquo;s activas de la red &lsquo;sudo nmap -sn 192.168.1.0/24&rsquo;</li>
<li>Para conectarme mediante ssh uso la terminal</li>
</ul></li>
</ul>

<p><img src="/images/20180401_raspberry_montaje_ssh_02.jpg" alt="Imagen_02" /></p>

<p>Averiguo que la Raspberry se ha conectado a la ip 192.168.1.118 y ya puedo arrancar Putty y logarme con el usuario &ldquo;pi&rdquo; y el password &ldquo;raspberry&rdquo; o bien en linux abrir el terminal y ejecutar el comando &lsquo;ssh pi@192.168.1.118&rsquo;.  Ya estamos inmersos en la terminal y podemos entrar en la configuración mediante la siguiente línea de comandos.</p>

<p><code>sudo raspi-config</code></p>

<ul>
<li>Cambiamos la contraseña para el usuario &ldquo;pi&rdquo;</li>
<li>Cambiamos la codificación al castellano (ES_ ES.UTF8)</li>

<li><p>Cambiamos la hora a la de Madrid</p>

<pre><code>sudo apt-get update
sudo apt-get upgrade
sudo apt-get install rpi-update
sudo rpi-update
</code></pre></li>
</ul>

<p>Y hasta aquí el primer día, apagamos la Raspberry y mañana más&hellip;</p>
			No me apetece perder nada de tiempo con el <a href="https://rgpd.es">RGPD</a> así que si tienes alguna duda, pregunta o sugerencia no dudes en dejarme un <a href="https://twitter.com/sherblogpro">Tweet</a> en @sherblogpro.  Intentaré responderte o complacerte si se o puedo o inventigar en ello para un nuevo post si no lo conozco.
		</div>
		
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item"><a class="tags__link btn" href="/tags/desarrollo/" rel="tag">Desarrollo</a></li>
	</ul>
</div>
	</article>
	
	
<nav class="post-nav flex">
	<div class="post-nav__item post-nav__item--prev">
		<a class="post-nav__link" href="/script-de-configuraci%C3%B3n-para-raspberry/" rel="prev"><span class="post-nav__caption">«&thinsp;Anterior</span><p class="post-nav__post-title">Script de configuración para Raspberry</p></a>
	</div>
	<div class="post-nav__item post-nav__item--next">
		<a class="post-nav__link" href="/raspberry-configurando-rclone-sin-entorno-gr%C3%A1fico/" rel="next"><span class="post-nav__caption">Siguiente&thinsp;»</span><p class="post-nav__post-title">Raspberry configurando rclone sin entorno gráfico</p></a>
	</div>
</nav>
	
</main>


<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2019 Sherblog.
			<span class="footer__copyright-credits">Generado con <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> y <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a>.</span>
		</div>
	</div>
</footer>
